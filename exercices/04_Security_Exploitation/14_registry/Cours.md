# Cours : Registry Windows - Base de Données Système

## 1. Introduction

Le **Registry** est la base de données de configuration de Windows.

## 2. Structure

```ascii
Registry :
├─ HKEY_LOCAL_MACHINE (HKLM) - Configuration système
├─ HKEY_CURRENT_USER (HKCU) - Configuration utilisateur
├─ HKEY_CLASSES_ROOT - Associations fichiers
├─ HKEY_USERS - Tous les utilisateurs
└─ HKEY_CURRENT_CONFIG - Hardware actuel
```

## 3. Opérations

### 3.1 Lire une Clé

```c
HKEY hKey;
RegOpenKeyExA(HKLM, "SOFTWARE\\Microsoft\\Windows\\CurrentVersion",
    0, KEY_READ, &hKey);

char value[256];
DWORD size = sizeof(value);
RegQueryValueExA(hKey, "ProgramFilesDir", NULL, NULL, 
    (BYTE*)value, &size);

printf("%s\n", value);  // C:\Program Files
RegCloseKey(hKey);
```

### 3.2 Écrire une Clé

```c
RegSetValueExA(hKey, "MyValue", 0, REG_SZ, 
    (BYTE*)"Data", strlen("Data"));
```

## Ressources

- [Windows Registry](https://docs.microsoft.com/en-us/windows/win32/sysinfo/registry)

